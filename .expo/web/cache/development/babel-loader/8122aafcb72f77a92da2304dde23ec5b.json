{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport { FontAwesome5, AntDesign } from '@expo/vector-icons';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { auth } from \"../../components/config\";\nimport { collection, addDoc, getDocs, getFirestore, query, where, onSnapshot } from 'firebase/firestore';\nimport { db } from \"../../components/config\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Note() {\n  var userId = auth.currentUser.uid;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  useEffect(function () {\n    var getData = function getData() {\n      var db = getFirestore();\n      var colRef = collection(db, 'chat');\n      var dados = [];\n      var q = query(colRef, where('idVendedor', '==', userId));\n      onSnapshot(q, function (snapshot) {\n        snapshot.docs.map(function (doc) {\n          dados.push(_objectSpread(_objectSpread({}, doc.data()), {}, {\n            id: doc.id\n          }));\n        });\n      });\n      setData(dados);\n    };\n\n    getData();\n  }, []);\n  return _jsx(View, {\n    children: _jsx(FlatList, {\n      data: data,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsxs(View, {\n          style: {\n            paddingBottom: 60,\n            paddingLeft: 10\n          },\n          children: [_jsxs(View, {\n            style: {\n              flexDirection: 'column'\n            },\n            children: [_jsx(Text, {\n              style: {\n                fontSize: 16,\n                fontWeight: 'bold',\n                color: '#333333',\n                paddingLeft: 22\n              },\n              children: item.titulo\n            }), _jsx(Image, {\n              source: {\n                uri: item.img\n              },\n              style: styles.image\n            }), _jsxs(Text, {\n              style: {\n                padding: 2,\n                color: '333333',\n                fontWeight: 'bold',\n                fontSize: 16\n              },\n              children: [\"Nome:  \", item.nomeComprador]\n            }), _jsxs(Text, {\n              style: {\n                color: '#333333',\n                fontWeight: 'bold',\n                fontSize: 16\n              },\n              children: [\"endere\\xE7o:  \", item.enderreco]\n            }), _jsxs(Text, {\n              style: {\n                color: '#333333',\n                fontWeight: 'bold',\n                fontSize: 16\n              },\n              children: [\"Mensagem(Opcional): \", item.mensagem]\n            })]\n          }), _jsx(View, {\n            style: styles.itemButtons,\n            children: _jsx(TouchableOpacity, {\n              children: _jsx(AntDesign, {\n                name: \"eye\",\n                size: 26,\n                color: \"#32CD42\"\n              })\n            })\n          })]\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      showsVerticalScrollIndicator: false,\n      contentContainerStyle: {\n        paddingBottom: 50\n      },\n      ListEmptyComponent: function ListEmptyComponent() {\n        return _jsx(Text, {\n          style: {\n            textAlign: 'center',\n            color: 'black',\n            fontSize: 22,\n            marginTop: 20\n          },\n          children: \"Nenhum Dado Encontrado!\"\n        });\n      }\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    marginTop: 30\n  },\n  image: {\n    width: 85,\n    height: 85,\n    marginLeft: 8,\n    borderRadius: 10,\n    backgroundColor: '#fee'\n  },\n  input: {\n    width: '90%',\n    height: 50,\n    padding: 15,\n    marginVertical: 10,\n    borderColor: '#111',\n    borderWidth: 1,\n    borderRadius: 10,\n    backgroundColor: '#222',\n    color: '#FFF',\n    fontSize: 20\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","FontAwesome5","AntDesign","auth","collection","addDoc","getDocs","getFirestore","query","where","onSnapshot","db","Note","userId","currentUser","uid","data","setData","getData","colRef","dados","q","snapshot","docs","map","doc","push","id","item","paddingBottom","paddingLeft","flexDirection","fontSize","fontWeight","color","titulo","uri","img","styles","image","padding","nomeComprador","enderreco","mensagem","itemButtons","textAlign","marginTop","StyleSheet","create","container","flex","backgroundColor","width","height","marginLeft","borderRadius","input","marginVertical","borderColor","borderWidth"],"sources":["C:/Users/Positivo/OneDrive/Área de Trabalho/Projeto integrador 4/Agro-Pi4/src/screens/Notificacao/index.js"],"sourcesContent":["import React, {useEffect,useState}from \"react\";\r\nimport { FontAwesome5, AntDesign } from '@expo/vector-icons';\r\nimport { Image, TextInput, View, Text, StyleSheet, TouchableOpacity, Button,Dimensions,FlatList } from 'react-native';\r\nimport {auth} from '../../components/config';\r\nimport {collection,addDoc,getDocs,getFirestore,query,where,onSnapshot} from 'firebase/firestore';\r\nimport {db} from '../../components/config'\r\n\r\nexport default function Note (){\r\n  const userId=auth.currentUser.uid;\r\n  const [ data, setData ] = useState([]);\r\n\r\n//   const [ data, setData ] = useState([]);\r\n    useEffect(() =>{\r\n        const getData = ()=> {\r\n            const db = getFirestore();\r\n            const colRef = collection(db,'chat')\r\n            var dados = [];\r\n            const q = query(colRef, where('idVendedor','==',userId))\r\n\r\n            onSnapshot(q,(snapshot) =>{\r\n                // var dados = [];\r\n                snapshot.docs.map((doc)=>{\r\n                    dados.push({...doc.data(), id:doc.id})\r\n                })\r\n                \r\n            });\r\n                setData(dados);\r\n        }\r\n        getData()\r\n\r\n    },[])\r\n\r\n//   useEffect(() => {\r\n//     getDocs(collection(db, 'chat')).then(\r\n//         (docSnap) => {\r\n//             const users = [];\r\n//             // console.warn(docSnap);\r\n//             docSnap.forEach((doc) => {\r\n                \r\n//                 getDocs(collection(db, 'chat', doc.id)).then(\r\n//                     (docSnap2) => {\r\n//                         docSnap2.forEach((doc2) => {\r\n//                             console.warn(userId + '   '+doc2.idVendedor)            \r\n//                         }\r\n//                     )}\r\n//                 )\r\n//             //     if (userId==doc.idVendedor){\r\n//             //         users.push({ \r\n//             //             ...doc.data(), \r\n//             //             id: doc.id\r\n//             //         })\r\n//             //     }\r\n//             })\r\n//             // },[data])\r\n//             // setData(users);\r\n//         });\r\n// });\r\n  \r\n  return (\r\n    <View>\r\n          <FlatList\r\n              data={data}\r\n              renderItem={\r\n                  ({ item }) => (\r\n                      <View style={{paddingBottom: 60, paddingLeft: 10}}>\r\n                          \r\n\r\n                          <View style={{ flexDirection: 'column' }}>\r\n                              <Text style={{fontSize: 16, fontWeight: 'bold', color:'#333333', paddingLeft: 22}}>{item.titulo}</Text>\r\n                              <Image source={{uri:item.img}} style={styles.image} />{/*Imagem não está aparecendo :( */}\r\n                              <Text style={{ padding: 2, color: '333333', fontWeight: 'bold', fontSize: 16}}>Nome:  {item.nomeComprador}</Text>\r\n\r\n                              <Text style={{ color: '#333333', fontWeight: 'bold', fontSize: 16 }}>endereço:  {item.enderreco}</Text>\r\n                              <Text style={{color:'#333333', fontWeight: 'bold', fontSize: 16}}>Mensagem(Opcional): {item.mensagem}</Text>\r\n\r\n                          </View>\r\n\r\n                          <View style={styles.itemButtons}>\r\n                              <TouchableOpacity\r\n                                  //onPress={() => irDetalhes(item.id, item.descricao, item.preco, item.titulo, item.img, item.idUser)}\r\n                              >\r\n                                  <AntDesign name=\"eye\" size={26} color=\"#32CD42\" />\r\n                              </TouchableOpacity>\r\n\r\n                        \r\n\r\n                          </View>\r\n                      </View>\r\n                  )}\r\n              keyExtractor={item => item.id}\r\n              showsVerticalScrollIndicator={false}\r\n              contentContainerStyle={{ paddingBottom: 50 }}\r\n              ListEmptyComponent={() => (\r\n                  <Text style={{ textAlign: 'center', color: 'black', fontSize: 22, marginTop: 20 }}>\r\n                      Nenhum Dado Encontrado!\r\n                  </Text>\r\n              )}\r\n          />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    marginTop:30,\r\n    \r\n  },\r\n\r\n  image: {\r\n    width: 85,\r\n        height: 85,\r\n        marginLeft: 8,\r\n        borderRadius: 10,\r\n        backgroundColor: '#fee',\r\n        \r\n  },\r\n  input: {\r\n    width: '90%',\r\n    height: 50,\r\n    \r\n    padding: 15,\r\n    marginVertical: 10,\r\n    \r\n    borderColor: '#111',\r\n    borderWidth: 1,\r\n    borderRadius: 10,\r\n    \r\n    backgroundColor: '#222',\r\n    color: '#FFF',\r\n    fontSize: 20,\r\n  \r\n},\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}