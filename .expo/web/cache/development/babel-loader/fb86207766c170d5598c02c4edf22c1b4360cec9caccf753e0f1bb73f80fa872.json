{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nexport function getFavorites(_x) {\n  return _getFavorites.apply(this, arguments);\n}\nfunction _getFavorites() {\n  _getFavorites = _asyncToGenerator(function* (key) {\n    var favorites = yield AsyncStorage.getItem(key);\n    return JSON.parse(favorites) || [];\n  });\n  return _getFavorites.apply(this, arguments);\n}\nexport function saveFavorite(_x2, _x3) {\n  return _saveFavorite.apply(this, arguments);\n}\nfunction _saveFavorite() {\n  _saveFavorite = _asyncToGenerator(function* (key, newItem) {\n    var myfavorites = yield getFavorites(key);\n    var hasItem = myfavorites.some(function (item) {\n      return item.id === newItem.id;\n    });\n    if (hasItem) {\n      console.log(\"ESSE ITEM JA ESTA SALVO NA SUA LISTA\");\n      return;\n    }\n    myfavorites.push(newItem);\n    yield AsyncStorage.setItem(key, JSON.stringify(myfavorites));\n    console.log('salvo com sucesso');\n  });\n  return _saveFavorite.apply(this, arguments);\n}\nexport function removeItem(_x4) {\n  return _removeItem.apply(this, arguments);\n}\nfunction _removeItem() {\n  _removeItem = _asyncToGenerator(function* (id) {\n    var receipes = yield getFavorites(\"@agrodigital\");\n    var myFavorites = receipes.filter(function (item) {\n      return item.id !== id;\n    });\n    yield AsyncStorage.setItem(\"@agrodigital\", JSON.stringify(myFavorites));\n    console.log(\"ITEM DELETADO com SuCESSO\");\n    return myFavorites;\n  });\n  return _removeItem.apply(this, arguments);\n}\nexport function isFavorite(_x5) {\n  return _isFavorite.apply(this, arguments);\n}\nfunction _isFavorite() {\n  _isFavorite = _asyncToGenerator(function* (receipe) {\n    var myReceipes = yield getFavorites(\"@agrodigital\");\n    var favorite = myReceipes.find(function (item) {\n      return item.id === receipe.id;\n    });\n    if (favorite) {\n      return true;\n    }\n    return false;\n  });\n  return _isFavorite.apply(this, arguments);\n}","map":{"version":3,"names":["AsyncStorage","getFavorites","_x","_getFavorites","apply","arguments","_asyncToGenerator","key","favorites","getItem","JSON","parse","saveFavorite","_x2","_x3","_saveFavorite","newItem","myfavorites","hasItem","some","item","id","console","log","push","setItem","stringify","removeItem","_x4","_removeItem","receipes","myFavorites","filter","isFavorite","_x5","_isFavorite","receipe","myReceipes","favorite","find"],"sources":["C:/Users/Positivo/OneDrive/Área de Trabalho/Projeto integrador 4/Agro-Pi4/src/storag/storage.js"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\n//Budcar os favoritos\r\n//salvas um novo favorito\r\n//Remover um favoritos da lista\r\n\r\nexport async  function getFavorites(key){\r\n    const favorites = await AsyncStorage.getItem(key)\r\n    return JSON.parse(favorites) || [];\r\n}\r\n\r\nexport async function saveFavorite(key,newItem){\r\n    let myfavorites = await getFavorites(key);\r\n\r\n    let hasItem = myfavorites.some( item => item.id === newItem.id)\r\n\r\n\r\n    if(hasItem){\r\n        console.log(\"ESSE ITEM JA ESTA SALVO NA SUA LISTA\")\r\n        return;\r\n    }\r\n\r\n    myfavorites.push(newItem)\r\n\r\n    await AsyncStorage.setItem(key, JSON.stringify(myfavorites))\r\n    console.log('salvo com sucesso')\r\n}\r\n\r\nexport async function removeItem(id){\r\n    let receipes = await getFavorites(\"@agrodigital\")\r\n\r\n    let myFavorites = receipes.filter( item => {\r\n        return (item.id !== id)\r\n    })\r\n\r\n    await AsyncStorage.setItem(\"@agrodigital\", JSON.stringify(myFavorites));\r\n    console.log(\"ITEM DELETADO com SuCESSO\")\r\n    return myFavorites;\r\n}\r\n\r\nexport async function isFavorite(receipe){\r\n     let myReceipes = await getFavorites(\"@agrodigital\")\r\n\r\n     const favorite = myReceipes.find( item => item.id === receipe.id)\r\n\r\n     if(favorite){\r\n        return true;\r\n     }\r\n\r\n     return false;\r\n}\r\n"],"mappings":";AAAA,OAAOA,YAAY,MAAM,2CAA2C;AAMpE,gBAAuBC,YAAYA,CAAAC,EAAA;EAAA,OAAAC,aAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAGlC,SAAAF,cAAA;EAAAA,aAAA,GAAAG,iBAAA,CAHM,WAA6BC,GAAG,EAAC;IACpC,IAAMC,SAAS,SAASR,YAAY,CAACS,OAAO,CAACF,GAAG,CAAC;IACjD,OAAOG,IAAI,CAACC,KAAK,CAACH,SAAS,CAAC,IAAI,EAAE;EACtC,CAAC;EAAA,OAAAL,aAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBO,YAAYA,CAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,aAAA,CAAAX,KAAA,OAAAC,SAAA;AAAA;AAejC,SAAAU,cAAA;EAAAA,aAAA,GAAAT,iBAAA,CAfM,WAA4BC,GAAG,EAACS,OAAO,EAAC;IAC3C,IAAIC,WAAW,SAAShB,YAAY,CAACM,GAAG,CAAC;IAEzC,IAAIW,OAAO,GAAGD,WAAW,CAACE,IAAI,CAAE,UAAAC,IAAI;MAAA,OAAIA,IAAI,CAACC,EAAE,KAAKL,OAAO,CAACK,EAAE;IAAA,EAAC;IAG/D,IAAGH,OAAO,EAAC;MACPI,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;MACnD;IACJ;IAEAN,WAAW,CAACO,IAAI,CAACR,OAAO,CAAC;IAEzB,MAAMhB,YAAY,CAACyB,OAAO,CAAClB,GAAG,EAAEG,IAAI,CAACgB,SAAS,CAACT,WAAW,CAAC,CAAC;IAC5DK,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;EACpC,CAAC;EAAA,OAAAR,aAAA,CAAAX,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBsB,UAAUA,CAAAC,GAAA;EAAA,OAAAC,WAAA,CAAAzB,KAAA,OAAAC,SAAA;AAAA;AAU/B,SAAAwB,YAAA;EAAAA,WAAA,GAAAvB,iBAAA,CAVM,WAA0Be,EAAE,EAAC;IAChC,IAAIS,QAAQ,SAAS7B,YAAY,CAAC,cAAc,CAAC;IAEjD,IAAI8B,WAAW,GAAGD,QAAQ,CAACE,MAAM,CAAE,UAAAZ,IAAI,EAAI;MACvC,OAAQA,IAAI,CAACC,EAAE,KAAKA,EAAE;IAC1B,CAAC,CAAC;IAEF,MAAMrB,YAAY,CAACyB,OAAO,CAAC,cAAc,EAAEf,IAAI,CAACgB,SAAS,CAACK,WAAW,CAAC,CAAC;IACvET,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;IACxC,OAAOQ,WAAW;EACtB,CAAC;EAAA,OAAAF,WAAA,CAAAzB,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsB4B,UAAUA,CAAAC,GAAA;EAAA,OAAAC,WAAA,CAAA/B,KAAA,OAAAC,SAAA;AAAA;AAU/B,SAAA8B,YAAA;EAAAA,WAAA,GAAA7B,iBAAA,CAVM,WAA0B8B,OAAO,EAAC;IACpC,IAAIC,UAAU,SAASpC,YAAY,CAAC,cAAc,CAAC;IAEnD,IAAMqC,QAAQ,GAAGD,UAAU,CAACE,IAAI,CAAE,UAAAnB,IAAI;MAAA,OAAIA,IAAI,CAACC,EAAE,KAAKe,OAAO,CAACf,EAAE;IAAA,EAAC;IAEjE,IAAGiB,QAAQ,EAAC;MACT,OAAO,IAAI;IACd;IAEA,OAAO,KAAK;EACjB,CAAC;EAAA,OAAAH,WAAA,CAAA/B,KAAA,OAAAC,SAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}