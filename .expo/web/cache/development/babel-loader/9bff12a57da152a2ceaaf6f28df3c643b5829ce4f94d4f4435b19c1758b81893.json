{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nexport function getFavorites(_x) {\n  return _getFavorites.apply(this, arguments);\n}\nfunction _getFavorites() {\n  _getFavorites = _asyncToGenerator(function* (key) {\n    var favorites = yield AsyncStorage.getItem(key);\n    return JSON.parse(favorites) || [];\n  });\n  return _getFavorites.apply(this, arguments);\n}\nexport function saveFavorite(_x2, _x3) {\n  return _saveFavorite.apply(this, arguments);\n}\nfunction _saveFavorite() {\n  _saveFavorite = _asyncToGenerator(function* (key, newItem) {\n    var myfavorites = yield getFavorites(key);\n    var hasItem = myfavorites.some(function (item) {\n      return item.id === newItem.id;\n    });\n    if (hasItem) {\n      console.log(\"ESSE ITEM JA ESTA SALVO NA SUA LISTA\");\n      return;\n    }\n    myfavorites.push(newItem);\n    yield AsyncStorage.setItem(key, JSON.stringify(myfavorites));\n    console.log('salvo com sucesso');\n  });\n  return _saveFavorite.apply(this, arguments);\n}\nexport function removeItem(_x4) {\n  return _removeItem.apply(this, arguments);\n}\nfunction _removeItem() {\n  _removeItem = _asyncToGenerator(function* (id) {\n    var receipes = yield getFavorites(\"@agrodigital\");\n    var myFavorites = receipes.filter(function (item) {\n      return item.id !== id;\n    });\n    yield AsyncStorage.setItem(\"@agrodigital\", JSON.stringify(myFavorites));\n    console.log(\"ITEM DELETADO com SuCESSO\");\n    return myFavorites;\n  });\n  return _removeItem.apply(this, arguments);\n}\nexport function isFavorite(_x5) {\n  return _isFavorite.apply(this, arguments);\n}\nfunction _isFavorite() {\n  _isFavorite = _asyncToGenerator(function* (receipe) {\n    var myReceipes = yield getFavorites(\"@agrodigital\");\n    var favorite = myReceipes.find(function (item) {\n      return item.id === receipe.id;\n    });\n    if (favorite) {\n      return true;\n    }\n    return false;\n  });\n  return _isFavorite.apply(this, arguments);\n}","map":{"version":3,"names":["AsyncStorage","getFavorites","key","favorites","getItem","JSON","parse","saveFavorite","newItem","myfavorites","hasItem","some","item","id","console","log","push","setItem","stringify","removeItem","receipes","myFavorites","filter","isFavorite","receipe","myReceipes","favorite","find"],"sources":["C:/Users/dansf/Desktop/reactNative/Agro-Pi4-daniel0.1.0/src/storag/storage.js"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\n\n//Budcar os favoritos\n//salvas um novo favorito\n//Remover um favoritos da lista\n\nexport async  function getFavorites(key){\n    const favorites = await AsyncStorage.getItem(key)\n    return JSON.parse(favorites) || [];\n}\n\nexport async function saveFavorite(key,newItem){\n    let myfavorites = await getFavorites(key);\n\n    let hasItem = myfavorites.some( item => item.id === newItem.id)\n\n    if(hasItem){\n        console.log(\"ESSE ITEM JA ESTA SALVO NA SUA LISTA\")\n        return;\n    }\n\n    myfavorites.push(newItem)\n\n    await AsyncStorage.setItem(key, JSON.stringify(myfavorites))\n    console.log('salvo com sucesso')\n}\n\nexport async function removeItem(id){\n    let receipes = await getFavorites(\"@agrodigital\")\n\n    let myFavorites = receipes.filter( item => {\n        return (item.id !== id)\n    })\n\n    await AsyncStorage.setItem(\"@agrodigital\", JSON.stringify(myFavorites));\n    console.log(\"ITEM DELETADO com SuCESSO\")\n    return myFavorites;\n}\n\nexport async function isFavorite(receipe){\n     let myReceipes = await getFavorites(\"@agrodigital\")\n\n     const favorite = myReceipes.find( item => item.id === receipe.id)\n\n     if(favorite){\n        return true;\n     }\n\n     return false;\n}\n"],"mappings":";AAAA,OAAOA,YAAY,MAAM,2CAA2C;AAMpE,gBAAuBC,YAAY;EAAA;AAAA;AAGlC;EAAA,kCAHM,WAA6BC,GAAG,EAAC;IACpC,IAAMC,SAAS,SAASH,YAAY,CAACI,OAAO,CAACF,GAAG,CAAC;IACjD,OAAOG,IAAI,CAACC,KAAK,CAACH,SAAS,CAAC,IAAI,EAAE;EACtC,CAAC;EAAA;AAAA;AAED,gBAAsBI,YAAY;EAAA;AAAA;AAcjC;EAAA,kCAdM,WAA4BL,GAAG,EAACM,OAAO,EAAC;IAC3C,IAAIC,WAAW,SAASR,YAAY,CAACC,GAAG,CAAC;IAEzC,IAAIQ,OAAO,GAAGD,WAAW,CAACE,IAAI,CAAE,UAAAC,IAAI;MAAA,OAAIA,IAAI,CAACC,EAAE,KAAKL,OAAO,CAACK,EAAE;IAAA,EAAC;IAE/D,IAAGH,OAAO,EAAC;MACPI,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;MACnD;IACJ;IAEAN,WAAW,CAACO,IAAI,CAACR,OAAO,CAAC;IAEzB,MAAMR,YAAY,CAACiB,OAAO,CAACf,GAAG,EAAEG,IAAI,CAACa,SAAS,CAACT,WAAW,CAAC,CAAC;IAC5DK,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;EACpC,CAAC;EAAA;AAAA;AAED,gBAAsBI,UAAU;EAAA;AAAA;AAU/B;EAAA,gCAVM,WAA0BN,EAAE,EAAC;IAChC,IAAIO,QAAQ,SAASnB,YAAY,CAAC,cAAc,CAAC;IAEjD,IAAIoB,WAAW,GAAGD,QAAQ,CAACE,MAAM,CAAE,UAAAV,IAAI,EAAI;MACvC,OAAQA,IAAI,CAACC,EAAE,KAAKA,EAAE;IAC1B,CAAC,CAAC;IAEF,MAAMb,YAAY,CAACiB,OAAO,CAAC,cAAc,EAAEZ,IAAI,CAACa,SAAS,CAACG,WAAW,CAAC,CAAC;IACvEP,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;IACxC,OAAOM,WAAW;EACtB,CAAC;EAAA;AAAA;AAED,gBAAsBE,UAAU;EAAA;AAAA;AAU/B;EAAA,gCAVM,WAA0BC,OAAO,EAAC;IACpC,IAAIC,UAAU,SAASxB,YAAY,CAAC,cAAc,CAAC;IAEnD,IAAMyB,QAAQ,GAAGD,UAAU,CAACE,IAAI,CAAE,UAAAf,IAAI;MAAA,OAAIA,IAAI,CAACC,EAAE,KAAKW,OAAO,CAACX,EAAE;IAAA,EAAC;IAEjE,IAAGa,QAAQ,EAAC;MACT,OAAO,IAAI;IACd;IAEA,OAAO,KAAK;EACjB,CAAC;EAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}