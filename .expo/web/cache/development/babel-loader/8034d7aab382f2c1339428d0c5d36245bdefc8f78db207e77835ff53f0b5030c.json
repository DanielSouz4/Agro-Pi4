{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useEffect, useState } from \"react\";\nimport { FontAwesome5, AntDesign } from '@expo/vector-icons';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { auth } from \"../../components/config\";\nimport { collection, addDoc, getDocs, getFirestore, query, where, onSnapshot } from 'firebase/firestore';\nimport { db } from \"../../components/config\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Note() {\n  var userId = auth.currentUser.uid;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  useEffect(function () {\n    var getData = function getData() {\n      var db = getFirestore();\n      var colRef = collection(db, 'chat');\n      var dados = [];\n      var q = query(colRef, where('idVendedor', '==', userId));\n      onSnapshot(q, function (snapshot) {\n        snapshot.docs.map(function (doc) {\n          dados.push(_objectSpread(_objectSpread({}, doc.data()), {}, {\n            id: doc.id\n          }));\n        });\n      });\n      setData(dados);\n    };\n    getData();\n  }, []);\n  return _jsx(View, {\n    children: _jsx(FlatList, {\n      data: data,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsxs(View, {\n          style: {\n            paddingBottom: 60,\n            paddingLeft: 10\n          },\n          children: [_jsxs(View, {\n            style: {\n              flexDirection: 'column'\n            },\n            children: [_jsx(Text, {\n              style: {\n                fontSize: 16,\n                fontWeight: 'bold',\n                color: '#333333',\n                paddingLeft: 22\n              },\n              children: item.titulo\n            }), _jsx(Image, {\n              source: {\n                uri: item.link\n              },\n              style: styles.image\n            }), _jsxs(Text, {\n              style: {\n                padding: 2,\n                color: '333333',\n                fontWeight: 'bold',\n                fontSize: 16\n              },\n              children: [\"Nome:  \", item.nomeComprador]\n            }), _jsxs(Text, {\n              style: {\n                color: '#333333',\n                fontWeight: 'bold',\n                fontSize: 16\n              },\n              children: [\"endere\\xE7o:  \", item.enderreco]\n            }), _jsxs(Text, {\n              style: {\n                color: '#333333',\n                fontWeight: 'bold',\n                fontSize: 16\n              },\n              children: [\"Mensagem(Opcional): \", item.mensagem]\n            })]\n          }), _jsx(View, {\n            style: styles.itemButtons,\n            children: _jsx(TouchableOpacity, {\n              children: _jsx(AntDesign, {\n                name: \"eye\",\n                size: 26,\n                color: \"#32CD42\"\n              })\n            })\n          })]\n        });\n      },\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      showsVerticalScrollIndicator: false,\n      contentContainerStyle: {\n        paddingBottom: 50\n      },\n      ListEmptyComponent: function ListEmptyComponent() {\n        return _jsx(Text, {\n          style: {\n            textAlign: 'center',\n            color: 'black',\n            fontSize: 22,\n            marginTop: 20\n          },\n          children: \"Nenhum Dado Encontrado!\"\n        });\n      }\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    marginTop: 30\n  },\n  image: {\n    width: 85,\n    height: 85,\n    marginLeft: 8,\n    borderRadius: 10,\n    backgroundColor: '#fee'\n  },\n  input: {\n    width: '90%',\n    height: 50,\n    padding: 15,\n    marginVertical: 10,\n    borderColor: '#111',\n    borderWidth: 1,\n    borderRadius: 10,\n    backgroundColor: '#222',\n    color: '#FFF',\n    fontSize: 20\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","FontAwesome5","AntDesign","Image","TextInput","View","Text","StyleSheet","TouchableOpacity","Button","Dimensions","FlatList","auth","collection","addDoc","getDocs","getFirestore","query","where","onSnapshot","db","jsx","_jsx","jsxs","_jsxs","Note","userId","currentUser","uid","_useState","_useState2","_slicedToArray","data","setData","getData","colRef","dados","q","snapshot","docs","map","doc","push","_objectSpread","id","children","renderItem","_ref","item","style","paddingBottom","paddingLeft","flexDirection","fontSize","fontWeight","color","titulo","source","uri","link","styles","image","padding","nomeComprador","enderreco","mensagem","itemButtons","name","size","keyExtractor","showsVerticalScrollIndicator","contentContainerStyle","ListEmptyComponent","textAlign","marginTop","create","container","flex","backgroundColor","width","height","marginLeft","borderRadius","input","marginVertical","borderColor","borderWidth"],"sources":["C:/Users/Positivo/OneDrive/Área de Trabalho/Projeto integrador 4/Agro-Pi4/src/screens/Notificacao/index.js"],"sourcesContent":["import React, {useEffect,useState}from \"react\";\r\nimport { FontAwesome5, AntDesign } from '@expo/vector-icons';\r\nimport { Image, TextInput, View, Text, StyleSheet, TouchableOpacity, Button,Dimensions,FlatList } from 'react-native';\r\nimport {auth} from '../../components/config';\r\nimport {collection,addDoc,getDocs,getFirestore,query,where,onSnapshot} from 'firebase/firestore';\r\nimport {db} from '../../components/config'\r\n\r\nexport default function Note (){\r\n  const userId=auth.currentUser.uid;\r\n  const [ data, setData ] = useState([]);\r\n\r\n//   const [ data, setData ] = useState([]);\r\n    useEffect(() =>{\r\n        const getData = ()=> {\r\n            const db = getFirestore();\r\n            const colRef = collection(db,'chat')\r\n            var dados = [];\r\n            const q = query(colRef, where('idVendedor','==',userId))\r\n\r\n            onSnapshot(q,(snapshot) =>{\r\n                // var dados = [];\r\n                snapshot.docs.map((doc)=>{\r\n                    dados.push({...doc.data(), id:doc.id})\r\n                })\r\n                \r\n            });\r\n                setData(dados);\r\n        }\r\n        getData()\r\n\r\n    },[])\r\n\r\n//   useEffect(() => {\r\n//     getDocs(collection(db, 'chat')).then(\r\n//         (docSnap) => {\r\n//             const users = [];\r\n//             // console.warn(docSnap);\r\n//             docSnap.forEach((doc) => {\r\n                \r\n//                 getDocs(collection(db, 'chat', doc.id)).then(\r\n//                     (docSnap2) => {\r\n//                         docSnap2.forEach((doc2) => {\r\n//                             console.warn(userId + '   '+doc2.idVendedor)            \r\n//                         }\r\n//                     )}\r\n//                 )\r\n//             //     if (userId==doc.idVendedor){\r\n//             //         users.push({ \r\n//             //             ...doc.data(), \r\n//             //             id: doc.id\r\n//             //         })\r\n//             //     }\r\n//             })\r\n//             // },[data])\r\n//             // setData(users);\r\n//         });\r\n// });\r\n  \r\n  return (\r\n    <View>\r\n          <FlatList\r\n              data={data}\r\n              renderItem={\r\n                  ({ item }) => (\r\n                      <View style={{paddingBottom: 60, paddingLeft: 10}}>\r\n                          \r\n\r\n                          <View style={{ flexDirection: 'column' }}>\r\n                              <Text style={{fontSize: 16, fontWeight: 'bold', color:'#333333', paddingLeft: 22}}>{item.titulo}</Text>\r\n                              <Image source={{uri:item.link}} style={styles.image} />{/*Imagem não está aparecendo :( */}\r\n                              <Text style={{ padding: 2, color: '333333', fontWeight: 'bold', fontSize: 16}}>Nome:  {item.nomeComprador}</Text>\r\n\r\n                              <Text style={{ color: '#333333', fontWeight: 'bold', fontSize: 16 }}>endereço:  {item.enderreco}</Text>\r\n                              <Text style={{color:'#333333', fontWeight: 'bold', fontSize: 16}}>Mensagem(Opcional): {item.mensagem}</Text>\r\n\r\n                          </View>\r\n\r\n                          <View style={styles.itemButtons}>\r\n                              <TouchableOpacity\r\n                                  //onPress={() => irDetalhes(item.id, item.descricao, item.preco, item.titulo, item.img, item.idUser)}\r\n                              >\r\n                                  <AntDesign name=\"eye\" size={26} color=\"#32CD42\" />\r\n                              </TouchableOpacity>\r\n\r\n                        \r\n\r\n                          </View>\r\n                      </View>\r\n                  )}\r\n              keyExtractor={item => item.id}\r\n              showsVerticalScrollIndicator={false}\r\n              contentContainerStyle={{ paddingBottom: 50 }}\r\n              ListEmptyComponent={() => (\r\n                  <Text style={{ textAlign: 'center', color: 'black', fontSize: 22, marginTop: 20 }}>\r\n                      Nenhum Dado Encontrado!\r\n                  </Text>\r\n              )}\r\n          />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    marginTop:30,\r\n    \r\n  },\r\n\r\n  image: {\r\n    width: 85,\r\n        height: 85,\r\n        marginLeft: 8,\r\n        borderRadius: 10,\r\n        backgroundColor: '#fee',\r\n        \r\n  },\r\n  input: {\r\n    width: '90%',\r\n    height: 50,\r\n    \r\n    padding: 15,\r\n    marginVertical: 10,\r\n    \r\n    borderColor: '#111',\r\n    borderWidth: 1,\r\n    borderRadius: 10,\r\n    \r\n    backgroundColor: '#222',\r\n    color: '#FFF',\r\n    fontSize: 20,\r\n  \r\n},\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}